<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prettier Browser Test</title>
  </head>
  <body>
    <h1>Prettier Browser Test</h1>
    <div id="output"></div>

    <script>
      // This page is meant to be served with Prettier standalone bundle loaded
      window.prettierLoaded = typeof prettier !== "undefined";

      // Simple format function that will be called from the test
      // Browser only runs the API, assertions are done in Node.js
      window.runPrettierTest = async function () {
        if (!window.prettier) {
          throw new Error("Prettier is not loaded");
        }

        const code = 'function hello( ) { console.log("world") }';
        const formatted = await prettier.format(code, {
          parser: "babel",
          plugins: prettierPlugins,
        });

        return {
          input: code,
          output: formatted,
          success: true,
        };
      };
    </script>
  </body>
</html>
